# Git

## 1. git commit

将暂存区中所有的文件变更作为一个记录进行提交

每个记录都有一个基于 SHA-1 的 40 位哈希值进行唯一标识

每个记录都有其 parent 记录，且保存了基于其 parent 记录的文件变更

## 2. git branch 分支名

创建一个指向当前分支指向的提交记录的分支

git 的分支是一个指针，指向某个提交记录

HEAD 是一个指向当前所在分支的引用，它一般指向当前分支最新的提交记录，分支名后的`*`表示 HEAD 当前指向该分支

如果没有将 HEAD 分离，则 HEAD，分支，记录三者的关系如下：

HEAD 指向 分支，分支指向记录，HEAD->分支->记录

## 3. git checkout 分支名

切换到指定分支

## 4. git checkout -b 分支名

创建一个指向当前分支指向的提交记录的分支并切换到该分支

## 5. git checkout 记录哈希值

将 HEAD 指向该提交记录

## 6. git checkout 分支名^/HEAD^

将 HEAD 指向分支指向记录或当前指向记录的 parent 记录

## 7. git checkout 分支名~n/HEAD~n

将 HEAD 指向分支指向记录或当前指向记录的前 n 个记录

## 8. git merge 分支名

将参数分支合并到当前分支：提交一个新的记录，该记录保存当前分支指向记录和参数分支指向记录的内容（该记录有两个 parent 记录），当前分支指向新记录，参数分支指向不变

如果参数分支继承自当前分支（参数分支指向记录的 parent 记录包含当前分支指向的记录），则不会提交新记录，而是将当前分支指向参数分支指向的记录

无论参数分支上有几个提交与当前分支不同，该指令最终都只会提交一次记录

## 9. git rebase 分支名

提交至少一个新记录，该记录包含当前分支指向记录的变更，该记录的 parent 记录仅有参数分支指向的记录，当前分支指向新记录，参数分支指向不变

如果参数分支继承自当前分支，则不会提交新记录，而是将当前分支指向参数分支指向的记录

如果当前分支上有多个与参数分支不同的提交，则会在参数分支上对应当前分支提交的先后顺序创建多个提交

### 9.1 git rebase -i 分支/HEAD~n

-i: -interactive



## 10. git reset HEAD~n

当 HEAD 指向分支时，我们可以通过 reset 命令来让分支回退到前 n 个记录

## 11. git revert HEAD

当 HEAD 指向分支时，我们可以通过 revert 命令来让分支提交一个与当前指向记录的变更相反的记录来实现回退效果

当你在操作与他人合作的远程提交树时，只能通过使用 revert 指令来实现撤销变更，因为远程仓库的提交树只能向前而不能向后

## 12. git cherry-pick 记录哈希值1 记录哈希值2 ...

之前我们所接触到的合并指令足够处理大多数情况，但是它们不够灵活，无法实现把只把想要的记录进行合并

该指令仅把提到的记录合并到 HEAD 所指向的记录上：按参数顺序从左往右依次创建至少一个提交